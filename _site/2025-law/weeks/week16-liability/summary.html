<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-99.9.9">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>The Halls of Justice: A philosophical D&amp;D campaign – summary</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">The Halls of Justice: A philosophical D&amp;D campaign</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#books-i-iv-of-platos-republic" id="toc-books-i-iv-of-platos-republic" class="nav-link active" data-scroll-target="#books-i-iv-of-platos-republic">Books I-IV of Plato’s Republic</a>
  <ul class="collapse">
  <li><a href="#the-artisans-and-the-poets" id="toc-the-artisans-and-the-poets" class="nav-link" data-scroll-target="#the-artisans-and-the-poets">The Artisans and the Poets</a>
  <ul class="collapse">
  <li><a href="#what-are-the-targets-of-artistic-imitation" id="toc-what-are-the-targets-of-artistic-imitation" class="nav-link" data-scroll-target="#what-are-the-targets-of-artistic-imitation">What are the targets of artistic imitation?</a></li>
  <li><a href="#representing-virtue-and-other-uniquely-human-attributes" id="toc-representing-virtue-and-other-uniquely-human-attributes" class="nav-link" data-scroll-target="#representing-virtue-and-other-uniquely-human-attributes">Representing Virtue and other uniquely human attributes</a></li>
  <li><a href="#tragedy-shows" id="toc-tragedy-shows" class="nav-link" data-scroll-target="#tragedy-shows">Tragedy Shows</a></li>
  </ul></li>
  <li><a href="#the-skill-of-the-poet-and-the-skill-of-the-moral-educator" id="toc-the-skill-of-the-poet-and-the-skill-of-the-moral-educator" class="nav-link" data-scroll-target="#the-skill-of-the-poet-and-the-skill-of-the-moral-educator">The skill of the poet and the skill of the moral educator</a></li>
  <li><a href="#what-say-you" id="toc-what-say-you" class="nav-link" data-scroll-target="#what-say-you">What say you?</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="books-i-iv-of-platos-republic" class="level1">
<h1>Books I-IV of Plato’s Republic</h1>
<ul>
<li>Justice in the ideal city and in the ideal soul</li>
<li>The tripartite nature of the city and the soul</li>
</ul>
<div class="notes">
<p>In the Republic, Plato tells a story. In the beginning of the story, Socrates, his mentor, is on his way back from the Piraeus after attending a religious festival. The Piraeuseans had recently imported a religious cult which worshiped the Tracian goddess Bendis. A question is raised. What is justice? Over time, varying accounts of justice are offered, each of which Socrates raises objections to (Bk I, 352d-354a). In order to explain his ideal of true justice, Socrates imagines the ideal city (BK IV, 434d-435a). This city is comprised of three classes of persons. Justice is achieved when each class, performs that role in the city, to which they are best suited. The working class is motivated by the pursuit of material wealth (558d-559c), the guardian class is motivated by honor (BK III, 414b), and the ruling class is motivated by truth (BK III, 412b-414b).</p>
<p>Accordingly, justice in the human soul, which is tripartite, is achieved when each part of the soul performs that role to which it is best suited. The appetites, perform those roles necessary for the base functions of the human person, food, procreation, and other necessary motor functions. The passions, or emotions are mobilized with respect to honor or respect, and its pursuit. Reason, which ought to rule over both the appetites and emotions, is concerned with an unyielding pursuit of truth.</p>
</div>
<section id="the-artisans-and-the-poets" class="level2">
<h2 class="anchored" data-anchor-id="the-artisans-and-the-poets">The Artisans and the Poets</h2>
<ul>
<li>What virtues belong to each class?</li>
<li>What is the first class that Plato discusses?</li>
</ul>
<div class="notes">
<p>Oddly enough, in Bk III, Plato leaves off any discussion of what he calls poetry, because even though he is convinced that poetry disrupts the training of the just sole, he cannot say how it does so until he has defined justice. This part of the project takes from Bk III to Bk IVX to do. While his conclusion is that art can disrupt this ideal ordering of the tripartite self, it is not until we get to Bk X to see how this is possible.</p>
</div>
<div class="notes">
<p>Artists, most notably the poets, are often cited as teachers of virtue. Yet, the most they are capable of is imitation. This brings us to the primary argument in Bk X of the Republic. What is this class of thing which poetry belongs to?</p>
</div>
<hr>
<ul>
<li><p>What makes a good teacher of virtue?</p></li>
<li><p>What makes a good poet?</p></li>
</ul>
<div class="notes">
<p>Unlike other craftsmen, say a carpenter, the artist merely imitates what the craftsman makes, including virtue. But this is only as their <em>mere</em> opinions would lead them to believe of its nature. Imitation involves the mere imitation of craftsmanship.</p>
<p>First, there is the nature of a bed as created by say a god (X, 597b). In exercising their craft, the carpenter makes a bed, which is based on the original form of a bed. Though the craftsman makes a bed, the ideal form of the bed is made by a god. A painter, finally then, exercises a different craft, and their resulting product, likewise differs from the god and the carpenter.</p>
<p>Importantly here, while the god makes the form of the bed, and the carpenter makes an idealization of this form, the painter, and other artists including poets, only imitate what the craftsmen makes. As such, the products of the artists are at a <em>third remove from the truth</em> (597e).</p>
</div>
<hr>
<section id="what-are-the-targets-of-artistic-imitation" class="level3">
<h3 class="anchored" data-anchor-id="what-are-the-targets-of-artistic-imitation">What are the targets of artistic imitation?</h3>
<ul>
<li>Classes of Objects</li>
<li>What are their purposes?</li>
<li>What are they made of?</li>
<li>How do we understand them?</li>
</ul>
<div class="notes">
<p>We are looking at a particular class of object. These are objects which are objects that are thought to represent other artifacts, namely those created by artisans.</p>
<p>Paintings, novels, stories, plays, films, and games. Consider Seurat’s <em>Sunday on the Island of La Grande Jate</em>, or Dicken’s <em>Tale of two Cities</em>, or Hitchcock’s <em>North by Northwest</em>.</p>
<p>Kendall <span class="citation" data-cites="walt90">@walt90</span> in his book <em>Mimesis as Make-Believe</em>, defines the question nicely. These objects are important for our lives and culture. But what are they? What are they made of? How do they work? What purposes do they serve and how do they serve them? What means do they use to serve these purposes? How do people understand and appreciate them?</p>
<p>Walton will go on to argue that the kinds of objects that we refer to as mimetic, are best understood as props in games of make believe.</p>
</div>
</section>
<section id="representing-virtue-and-other-uniquely-human-attributes" class="level3">
<h3 class="anchored" data-anchor-id="representing-virtue-and-other-uniquely-human-attributes">Representing Virtue and other uniquely human attributes</h3>
<ul>
<li>Abstract Concepts</li>
<li>What does Tragedy Represent?</li>
</ul>
<div class="notes">
<p>Importantly however, Plato’s main target is not the imitation of objects, beds, tables, chairs, etc. Rather, Plato’s primary target is the representation of virtue and other abstract constructs. Socrates and his student Plato, grew up on the narratives provided them by the Greek tragedians, poets, and other literary figures of their day. As pointed out by Martha <span class="citation" data-cites="nuss86i">@nuss86i</span>, Greek tragedy of the sort that concerns Plato:</p>
<p>What about the Sydney Opera House, paintings by Jason Pollack, or images created by game developers?</p>
</div>
<hr>
</section>
<section id="tragedy-shows" class="level3">
<h3 class="anchored" data-anchor-id="tragedy-shows">Tragedy Shows</h3>
<blockquote class="blockquote">
<p>good people being ruined because of things that just happen to them, things that they do not control. … and ordinary fact of human life. <span class="citation" data-cites="nuss86i">[@nuss86i]</span></p>
</blockquote>
<div class="notes">
<p>While Plato’s concern is the existence of human virtue here, the above preoccupation does not express Plato’s criticism fully. People do not typically loose their virtue because of some environmental catastrophe. The environment might obscure some important fact that contributed to the person’s decision for instance, meaning the person involved might be excused in part because of ignorance. Additional, we often see great acts of courage, beneficence, selflessness in response to environment catastrophes. But, Greek tragedy did something else as well:</p>
</div>
<hr>
<p>But . . .</p>
<ul>
<li>What is Vice?</li>
<li>Vicious Action done in ignorance or something else?</li>
</ul>
<div class="incremental">
<blockquote class="blockquote">
<p>Tragedy also … shows good people doing bad things, things otherwise repugnant to their ethical character and commitments, because of circumstances whose origin does not lie with them.</p>
</blockquote>
</div>
<div class="notes">
<p>These lie beyond simple ignorance. Here, the person is fully knowledgeable about what they are doing. They are not being physically or psychologically coerced. Rather, tragedy presents a character as being able to make one of two equally bad choices. The outcome of such stories, is for their audiences to question the nature of human goodness. What can possibly count as human virtue, virtue that is attributable to the person and not the environment?</p>
</div>
</section>
</section>
<section id="the-skill-of-the-poet-and-the-skill-of-the-moral-educator" class="level2">
<h2 class="anchored" data-anchor-id="the-skill-of-the-poet-and-the-skill-of-the-moral-educator">The skill of the poet and the skill of the moral educator</h2>
<ul>
<li>If I lack, say the virtue of courage, but possess, say the virtue of painting, could I paint an accurate portrait of said virtue?</li>
<li>If I possess, say the virtue of courage, but not the virtue of painting, could I paint an accurate portrait of said virtue?</li>
</ul>
<blockquote class="blockquote">
<p>The reason is this: We hear some people say that poets know all crafts, all human affairs concerned with virtue and vice, and all about the gods as well. They say that if a good poet produces find poetry, he must have knowledge of the things he writes about, or else he wouldn’t be able to produce it at all. [BK X, 598e]</p>
</blockquote>
<div class="notes">
<ol type="1">
<li>Both the teacher of virtue and poet are skilled to some extent. To be skilled, you must first have certain abilities and knowledge. The question which remains is whether what one needs to know in order to be a good teacher of virtue is the same as what one needs to know to be a good poet.</li>
</ol>
<p>Plato argues these are not analogous. What say you?</p>
</div>
<hr>
<p>Plato argues these are not analogous.</p>
<hr>
</section>
<section id="what-say-you" class="level2 center">
<h2 class="center anchored" data-anchor-id="what-say-you">What say you?</h2>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    const typesetMath = (el) => {
      if (window.MathJax) {
        // MathJax Typeset
        window.MathJax.typeset([el]);
      } else if (window.katex) {
        // KaTeX Render
        var mathElements = el.getElementsByClassName("math");
        var macros = [];
        for (var i = 0; i < mathElements.length; i++) {
          var texText = mathElements[i].firstChild;
          if (mathElements[i].tagName == "SPAN") {
            window.katex.render(texText.data, mathElements[i], {
              displayMode: mathElements[i].classList.contains('display'),
              throwOnError: false,
              macros: macros,
              fleqn: false
            });
          }
        }
      }
    }
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        for (let i = 0; i < 2; i++) {
          container.appendChild(note.children[i].cloneNode(true));
        }
        typesetMath(container);
        return container.innerHTML
      } else {
        typesetMath(note);
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      typesetMath(note);
      return note.innerHTML;
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>